<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | User Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   
</head>

<body>

    <!-- Sidebar -->
    <%-include('sidebar')%>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Mobile Menu Button -->
                <button class="mobile-menu-btn" id="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>

                <!-- Breadcrumb Navigation -->
                <div class="breadcrumb">
                    <%-include('navbar')%>

                </div>

                <!-- Header -->
                <header class="header">
                    <h1>Create New User</h1>
                    <div class="user-profile">
                        <div class="user-avatar">AD</div>
                        <span>Admin</span>
                    </div>
                </header>

                <!-- Form Container -->
                <div class="form-container">
                    <div class="form-header">
                        <h2>User Information</h2>
                        <div class="actions">
                            <button class="btn btn-secondary">
                                <i class="fas fa-save"></i> Save Draft
                            </button>
                            <button class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>

                    <form action="/edit-user/<%=user.id%>" method="post" enctype="multipart/form-data">
                        <div class="form-grid">
                            <!-- Personal Information -->
                            <div class="form-group">
                                <label for="fullName">Full Name</label>
                                <input type="text" name="name" id="fullName" class="form-control"
                                    placeholder="Enter full name" value="<%=user.name%>">
                            </div>

                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" name="email" id="email" class="form-control"
                                    placeholder="Enter email address" value="<%=user.email%>">
                            </div>

                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" name="phone" id="phone" class="form-control"
                                    placeholder="Enter phone number" value="<%=user.phone%>">
                            </div>

                            <div class="form-group">
                                <label for="dob">Date of Birth</label>
                                <input type="date" name="dob" id="dob" class="form-control" value="<%=user.dob%>">
                            </div>

                            <!-- Account Information -->
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" name="username" id="username" class="form-control"
                                    placeholder="Enter username" value="<%=user.username%>">
                            </div>

                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" name="password" id="password" class="form-control"
                                    placeholder="Enter password" value="<%= user.password || '' %>">
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword">Confirm Password</label>
                                <input type="password" name="confirmPassword" id="confirmPassword" class="form-control"
                                    placeholder="Confirm password" value="<%= user.confirmPassword || '' %>">
                            </div>

                            <div class="form-group">
                                <label for="role">User Role</label>
                                <div class="select-wrapper">
                                    <select id="role" name="role" class="form-control">
                                        <option value="">Select role</option>
                                        <option value="admin" <%=user.role==='admin' ? 'selected' : '' %>>Administrator
                                        </option>
                                        <option value="editor" <%=user.role==='editor' ? 'selected' : '' %>>Editor
                                        </option>
                                        <option value="author" <%=user.role==='author' ? 'selected' : '' %>>Author
                                        </option>
                                        <option value="subscriber" <%=user.role==='subscriber' ? 'selected' : '' %>
                                            >Subscriber</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Additional Information -->
                            <div class="form-group">
                                <label>Gender</label>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="gender" value="male" <%=user.gender==='male'
                                            ? 'checked' : '' %>>
                                        Male
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="gender" value="female" <%=user.gender==='female'
                                            ? 'checked' : '' %>>
                                        Female
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="gender" value="other" <%=user.gender==='other'
                                            ? 'checked' : '' %>>
                                        Other
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Notifications</label>
                                <div class="checkbox-group">
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="notifications" value="email"
                                            <%=Array.isArray(user.notifications) && user.notifications.includes('email')
                                            ? 'checked' : '' %>>
                                        Email
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="notifications" value="sms"
                                            <%=Array.isArray(user.notifications) && user.notifications.includes('sms')
                                            ? 'checked' : '' %>>
                                        SMS
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="notifications" value="push"
                                            <%=Array.isArray(user.notifications) && user.notifications.includes('push')
                                            ? 'checked' : '' %>>
                                        Push
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Account Status</label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <label class="switch">
                                        <input type="checkbox" name="isActive" <%=user.isActive ? 'checked' : '' %>>
                                        <span class="slider"></span>
                                    </label>
                                    <span>Active</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="bio">Bio</label>
                                <textarea id="bio" name="bio" class="form-control"
                                    placeholder="Tell us about yourself..."><%= user.bio %></textarea>
                            </div>

                            <div class="file-upload">
                                <label class="file-upload-btn">
                                    <div class="file-upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <div>Click to upload or drag and drop</div>
                                    <div style="font-size: 12px; color: #777; margin-top: 5px;">SVG, PNG, JPG or GIF
                                        (max. 5MB)</div>
                                    <input type="file" name="image" class="file-upload-input">
                                    <% if (user.image) { %>
                                        <img src="<%= user.profilePicture %>" alt="User profile"
                                            style="max-width: 100px; margin-top: 10px;">
                                        <% } %>
                                </label>
                            </div>
                        </div>

                        <div class="form-footer">
                            <!-- <button type="button" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Cancel
                            </button> -->
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-user-plus"></i> Create User
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>


</body>

</html>